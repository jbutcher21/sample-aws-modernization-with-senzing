---
title: "The 5-Stage Mapping Workflow"
chapter: false
weight: 33
---

## The Senzing Mapping Assistant

Rather than just asking AI to "write me a mapper," this workshop teaches a **structured, repeatable workflow** called the **Senzing Mapping Assistant**. This 5-stage process ensures correct, validated mappings every time.

Think of it like a conversation with the AI where you work together to:
1. Understand your source data
2. Plan your approach
3. Make informed mapping decisions
4. Generate production-ready code
5. Validate everything works

## The 5 Stages

### STAGE 1: INIT - Load Reference Materials

You load the Senzing specifications and reference materials into the AI context. This gives the AI the knowledge it needs to guide you through mapping.

**What happens:**
- Load entity specification
- Load mapping examples
- Load validation tools
- Load identifier and usage type crosswalks

**Your role:** Copy prompts to load files into AI context

---

### STAGE 2: INVENTORY - Analyze Source Data

The AI analyzes your source data schema to understand what fields you're working with.

**What happens:**
- AI reviews pre-generated schema file
- Identifies field names, data types, population rates
- Notes patterns and potential issues

**Your role:** Provide schema file (generated by `sz_schema_generator.py`)

---

### STAGE 3: PLANNING - Identify Entities and Sources

You work with the AI to determine:
- What DATA_SOURCE value to use
- Are there multiple entity types in your data?
- Any special handling needed?

**What happens:**
- AI asks clarifying questions
- You make business decisions
- Establish mapping strategy

**Your role:** Answer questions about your data and business context

---

### STAGE 4: MAPPING - Field-by-Field Decisions

This is the core mapping work. For each source field, you and the AI determine:
- Should it be a Senzing Feature (used for matching)?
- Should it be Payload (stored but not matched)?
- Should it be ignored?
- What is the correct Senzing attribute name?

**What happens:**
- AI suggests mappings based on field names and content
- You confirm or override decisions
- Handle edge cases (e.g., dynamic identifier types)
- Decide on data transformations (date formats, name parsing)

**Your role:** Make informed decisions with AI guidance

---

### STAGE 5: OUTPUTS - Generate Code and Documentation

The AI generates production-ready deliverables:

**Outputs:**
- **Mapper specification** (markdown documentation of all decisions)
- **Python mapper** (executable code)
- **Sample output** (example mapped JSON records)
- **README** (usage instructions)

**What happens:**
- AI writes the mapper based on Stage 4 decisions
- You run the mapper
- Validate output with linting and analysis tools

**Your role:** Review generated code, run mapper, validate output

---

## Why This Workflow Works

**Structured Decision-Making**: Each stage has a clear purpose and deliverable

**Validation Gates**: You verify correctness at each stage before proceeding

**Iterative Refinement**: Easy to go back and adjust decisions

**Documentation Trail**: Complete record of why each mapping decision was made

**Production Ready**: Output includes code, documentation, and validation

{{% notice tip %}}
**This isn't just code generation** - it's AI-assisted decision-making with you in control. The AI guides you through the specifications and best practices, but YOU make the final decisions based on your understanding of the data.
{{% /notice %}}

## The Full Prompt

The complete Senzing Mapping Assistant prompt with detailed instructions for each stage is available at:

**`workshop/senzing/prompts/senzing_mapping_assistant.md`**

You'll load this prompt in Module 4 when you start the hands-on customer mapping exercise.

## What to Expect in Module 4

In the next module, you'll:
1. Load the Mapping Assistant into Amazon Q Developer
2. Work through all 5 stages for the customer dataset
3. Make real mapping decisions with AI guidance
4. Generate a working mapper
5. Validate your output with linting and analysis tools

**Estimated time**: 60 minutes for complete customer mapping

Ready to learn about the validation tools you'll use?
